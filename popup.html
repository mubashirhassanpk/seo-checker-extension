<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SEO Checker by Sekhlo</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <div class="logo-text">
          <h1>SEO Checker by Sekhlo</h1>
        </div>
      </div>
      <div class="header-actions">
        <button id="history-btn" class="icon-btn" title="View History">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button id="refresh-btn" class="icon-btn" title="Refresh Analysis">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M23 4v6h-6M1 20v-6h6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button id="export-btn" class="icon-btn" title="Export Report">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
    </header>


    <!-- Navigation Tabs -->
    <nav class="tabs">
      <button class="tab active" data-tab="overview">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2" fill="none"/>
          <path d="M9 9h6v6H9z" fill="currentColor"/>
        </svg>
        <span>Overview</span>
      </button>
      <button class="tab" data-tab="technical">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M12 2L2 7l10 5 10-5-10-5z" stroke="currentColor" stroke-width="2" fill="none"/>
          <path d="M2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" fill="none"/>
        </svg>
        <span>Technical</span>
      </button>
      <button class="tab" data-tab="content">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" stroke="currentColor" stroke-width="2" fill="none"/>
          <path d="M14 2v6h6M16 13H8M16 17H8M10 9H8" stroke="currentColor" stroke-width="2"/>
        </svg>
        <span>Content</span>
      </button>
      <button class="tab" data-tab="links">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" stroke="currentColor" stroke-width="2" fill="none"/>
          <path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" stroke="currentColor" stroke-width="2" fill="none"/>
        </svg>
        <span>Links</span>
      </button>
      <button class="tab" data-tab="images">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2" fill="none"/>
          <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"/>
          <path d="M21 15l-5-5L5 21" stroke="currentColor" stroke-width="2" fill="none"/>
        </svg>
        <span>Images</span>
      </button>
      <button class="tab" data-tab="geo">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>GEO Check</span>
      </button>
      <button class="tab" data-tab="rankings">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" fill="none"/>
        </svg>
        <span>Rankings</span>
      </button>
      <button class="tab" data-tab="domain">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
          <path d="M12 2v20M2 12h20" stroke="currentColor" stroke-width="2"/>
        </svg>
        <span>Domain</span>
      </button>
    </nav>

    <!-- Tab Content -->
    <div class="tab-content-container">
      <!-- Loading State -->
      <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Analyzing page...</p>
      </div>

      <!-- Overview Tab -->
      <div id="overview" class="tab-content active">
        <!-- SEO Score Dashboard -->
        <div class="score-dashboard">
          <div class="score-circle">
            <svg width="120" height="120" class="score-svg" viewBox="0 0 120 120">
              <circle cx="60" cy="60" r="50" stroke="#e5e7eb" stroke-width="8" fill="none"/>
              <circle id="score-progress" cx="60" cy="60" r="50" stroke="url(#scoreGradient)" stroke-width="8" fill="none"
                      stroke-dasharray="314" stroke-dashoffset="314" stroke-linecap="round"/>
              <defs>
                <linearGradient id="scoreGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" style="stop-color:#ef4444"/>
                  <stop offset="50%" style="stop-color:#f59e0b"/>
                  <stop offset="100%" style="stop-color:#10b981"/>
                </linearGradient>
              </defs>
            </svg>
            <div class="score-content">
              <span id="seo-score" class="score-number">--</span>
              <span class="score-label">SEO Score</span>
              <div id="score-status" class="score-status">Analyzing...</div>
            </div>
          </div>
          
          <div class="quick-metrics">
            <div class="metric-item">
              <div class="metric-icon">üìä</div>
              <div class="metric-content">
                <span class="metric-label">Page Rank</span>
                <span id="page-rank" class="metric-value">--</span>
              </div>
            </div>
            <div class="metric-item">
              <div class="metric-icon">‚ö°</div>
              <div class="metric-content">
                <span class="metric-label">Load Time</span>
                <span id="load-time" class="metric-value">--</span>
              </div>
            </div>
            <div class="metric-item">
              <div class="metric-icon">üîó</div>
              <div class="metric-content">
                <span class="metric-label">Links</span>
                <span id="total-links" class="metric-value">--</span>
              </div>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="section-header">
            <h3>Page Basics</h3>
            <button id="improve-meta" class="ai-btn" title="Get AI-powered meta title & description improvements">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke="currentColor" stroke-width="2" fill="none"/>
                <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
              <span>Improve Meta</span>
            </button>
          </div>
          <div class="info-grid">
            <div class="info-card">
              <div class="info-header">
                <span class="info-title">Meta Title</span>
                <span id="title-length" class="info-badge">0 chars</span>
              </div>
              <p id="meta-title" class="info-content">--</p>
            </div>
            <div class="info-card">
              <div class="info-header">
                <span class="info-title">Meta Description</span>
                <span id="desc-length" class="info-badge">0 chars</span>
              </div>
              <p id="meta-description" class="info-content">--</p>
            </div>
          </div>
          
          <!-- AI Meta Suggestions -->
          <div id="ai-meta-suggestions" class="ai-meta-suggestions hidden">
            <h4>ü§ñ AI-Powered Meta Tag Improvements</h4>
            <p class="suggestions-intro">Click any suggestion to copy it to your clipboard</p>
            <div id="meta-suggestions-list" class="meta-suggestions-list">
              <!-- Dynamic content -->
            </div>
          </div>
        </div>

        <div class="section">
          <h3>Key Metrics</h3>
          <div class="metrics-grid">
            <div class="metric-card">
              <div class="metric-icon">üìù</div>
              <div class="metric-info">
                <span class="metric-number" id="word-count">0</span>
                <span class="metric-label">Words</span>
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-icon">üè∑Ô∏è</div>
              <div class="metric-info">
                <span class="metric-number" id="h1-count">0</span>
                <span class="metric-label">H1 Tags</span>
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-icon">üñºÔ∏è</div>
              <div class="metric-info">
                <span class="metric-number" id="image-count">0</span>
                <span class="metric-label">Images</span>
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-icon">üîó</div>
              <div class="metric-info">
                <span class="metric-number" id="link-count">0</span>
                <span class="metric-label">Links</span>
              </div>
            </div>
          </div>
        </div>

        <div class="section">
          <h3>SEO Factors</h3>
          <div id="seo-factors" class="factors-list">
            <!-- Dynamic content -->
          </div>
        </div>
      </div>

      <!-- Technical Tab -->
      <div id="technical" class="tab-content">
        <div class="section">
          <h3>Technical SEO</h3>
          <div id="technical-checks" class="checks-list">
            <!-- Dynamic content -->
          </div>
        </div>

        <div class="section">
          <div class="section-header">
            <h3>Structured Data</h3>
            <button id="toggle-structured-data" class="copy-btn hidden" title="Toggle full view">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span id="toggle-text">Full View</span>
            </button>
          </div>
          <div id="structured-data-container">
            <div id="structured-data-preview" class="structured-data-preview">
              <p>No structured data found</p>
            </div>
            <div id="structured-data-full" class="structured-data-full hidden">
              <!-- Full structured data will be shown here -->
            </div>
          </div>
        </div>

        <div class="section">
          <h3>Social Media</h3>
          <div id="social-tags" class="social-grid">
            <!-- Dynamic content -->
          </div>
        </div>

        <div class="section">
          <h3>SEO Files</h3>
          <div class="seo-files-grid">
            <!-- Robots.txt -->
            <div class="seo-file-card">
              <div class="seo-file-header">
                <div class="seo-file-info">
                  <div class="seo-file-icon">ü§ñ</div>
                  <div class="seo-file-title">
                    <span class="file-name">robots.txt</span>
                    <span class="file-description">Crawling instructions</span>
                  </div>
                </div>
                <button id="check-robots" class="check-file-btn" title="Check robots.txt">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                    <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
              <div class="seo-file-status" id="robots-status">
                <span class="status-text">Not checked</span>
              </div>
              <div id="robots-details" class="seo-file-details hidden">
                <!-- Dynamic content -->
              </div>
            </div>

            <!-- Sitemap.xml -->
            <div class="seo-file-card">
              <div class="seo-file-header">
                <div class="seo-file-info">
                  <div class="seo-file-icon">üó∫Ô∏è</div>
                  <div class="seo-file-title">
                    <span class="file-name">sitemap.xml</span>
                    <span class="file-description">Site structure map</span>
                  </div>
                </div>
                <button id="check-sitemap" class="check-file-btn" title="Check sitemap.xml">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                    <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
              <div class="seo-file-status" id="sitemap-status">
                <span class="status-text">Not checked</span>
              </div>
              <div id="sitemap-details" class="seo-file-details hidden">
                <!-- Dynamic content -->
              </div>
            </div>

            <!-- llms.txt -->
            <div class="seo-file-card">
              <div class="seo-file-header">
                <div class="seo-file-info">
                  <div class="seo-file-icon">üß†</div>
                  <div class="seo-file-title">
                    <span class="file-name">llms.txt</span>
                    <span class="file-description">AI training guidelines</span>
                  </div>
                </div>
                <button id="check-llms" class="check-file-btn" title="Check llms.txt">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                    <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
              <div class="seo-file-status" id="llms-status">
                <span class="status-text">Not checked</span>
              </div>
              <div id="llms-details" class="seo-file-details hidden">
                <!-- Dynamic content -->
              </div>
            </div>
          </div>

          <!-- SEO Files Actions -->
          <div class="seo-files-actions">
            <button id="generate-llms" class="secondary-btn generator-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Generate llms.txt</span>
            </button>
            <button id="check-all-files" class="primary-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9c2.12 0 4.04.74 5.57 1.98" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Check All SEO Files</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Content Tab -->
      <div id="content" class="tab-content">
        <div class="section">
          <div class="section-header">
            <h3>Heading Structure</h3>
            <div class="header-actions">
              <button id="improve-headings" class="ai-btn" title="Get AI-powered heading improvement suggestions">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Improve Headings</span>
              </button>
              <button id="copy-headings" class="copy-btn" title="Copy headings to clipboard">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none"/>
                  <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
                <span>Copy</span>
              </button>
            </div>
          </div>
          <div id="heading-structure" class="heading-tree">
            <!-- Dynamic content -->
          </div>
          
          <!-- AI Heading Suggestions -->
          <div id="ai-heading-suggestions" class="ai-heading-suggestions hidden">
            <h4>ü§ñ AI-Powered Heading Improvements</h4>
            <p class="suggestions-intro">Click any suggestion to copy it to your clipboard</p>
            <div id="heading-suggestions-list" class="suggestions-list">
              <!-- Dynamic content -->
            </div>
          </div>
        </div>

        <div class="section">
          <h3>Content Metrics</h3>
          <div class="content-metrics-grid">
            <div class="metric-card-small">
              <div class="metric-icon-small">üìñ</div>
              <div class="metric-info-small">
                <span class="metric-label-small">Reading Time</span>
                <span id="reading-time" class="metric-value-small">--</span>
              </div>
            </div>
            <div class="metric-card-small">
              <div class="metric-icon-small">üìè</div>
              <div class="metric-info-small">
                <span class="metric-label-small">Avg Word Length</span>
                <span id="avg-word-length" class="metric-value-small">--</span>
              </div>
            </div>
            <div class="metric-card-small">
              <div class="metric-icon-small">üìÑ</div>
              <div class="metric-info-small">
                <span class="metric-label-small">Paragraphs</span>
                <span id="paragraph-count" class="metric-value-small">--</span>
              </div>
            </div>
            <div class="metric-card-small">
              <div class="metric-icon-small">üî§</div>
              <div class="metric-info-small">
                <span class="metric-label-small">Sentences</span>
                <span id="sentence-count" class="metric-value-small">--</span>
              </div>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="section-header">
            <h3>Top Keywords</h3>
            <div class="header-actions">
              <button id="get-ai-keywords" class="ai-btn" title="Get keywords from Perplexity AI">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M12 2L2 7l10 5 10-5-10-5z" stroke="currentColor" stroke-width="2" fill="none"/>
                  <path d="M2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
                <span>AI Keywords</span>
              </button>
              <button id="copy-keywords" class="copy-btn" title="Copy keywords to clipboard">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none"/>
                  <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke="currentColor" stroke-width="2" fill="none"/>
                </svg>
                <span>Copy</span>
              </button>
            </div>
          </div>
          <div id="keyword-density" class="keyword-grid">
            <!-- Dynamic content -->
          </div>
          <div id="ai-keywords-section" class="ai-keywords-section hidden">
            <h4>ü§ñ AI-Generated Keywords</h4>
            <div class="ai-keywords-container">
              <div class="keyword-category">
                <h5>Primary Keywords</h5>
                <div id="ai-primary-keywords" class="ai-keyword-list">
                  <!-- Dynamic content -->
                </div>
              </div>
              <div class="keyword-category">
                <h5>Long-tail Keywords</h5>
                <div id="ai-longtail-keywords" class="ai-keyword-list">
                  <!-- Dynamic content -->
                </div>
              </div>
              <div class="keyword-category">
                <h5>Semantic Keywords</h5>
                <div id="ai-semantic-keywords" class="ai-keyword-list">
                  <!-- Dynamic content -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Links Tab -->
      <div id="links" class="tab-content">
        <div class="section">
          <h3>Link Analysis</h3>
          <div class="link-stats">
            <div class="link-stat">
              <span class="stat-number" id="internal-links">0</span>
              <span class="stat-label">Internal</span>
            </div>
            <div class="link-stat">
              <span class="stat-number" id="external-links">0</span>
              <span class="stat-label">External</span>
            </div>
            <div class="link-stat">
              <span class="stat-number" id="nofollow-links">0</span>
              <span class="stat-label">Nofollow</span>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="link-tabs">
            <button class="link-tab active" data-link-type="internal">Internal</button>
            <button class="link-tab" data-link-type="external">External</button>
            <button class="link-tab" data-link-type="broken">Broken</button>
          </div>
          <div id="links-list" class="links-container">
            <!-- Dynamic content -->
          </div>
        </div>
      </div>

      <!-- Images Tab -->
      <div id="images" class="tab-content">
        <div class="section">
          <h3>Image Analysis</h3>
          <div class="image-stats">
            <div class="image-stat">
              <span class="stat-number" id="total-images">0</span>
              <span class="stat-label">Total</span>
            </div>
            <div class="image-stat">
              <span class="stat-number" id="images-with-alt">0</span>
              <span class="stat-label">With Alt</span>
            </div>
            <div class="image-stat">
              <span class="stat-number" id="images-without-alt">0</span>
              <span class="stat-label">Without Alt</span>
            </div>
            <div class="image-stat">
              <span class="stat-number" id="large-images">0</span>
              <span class="stat-label">Large</span>
            </div>
          </div>
        </div>

        <div class="section">
          <h3>Image List</h3>
          <div id="images-list" class="images-grid">
            <!-- Dynamic content -->
          </div>
        </div>

        <div class="section">
          <h3>Visual Tools</h3>
          <div class="tools-grid">
            <button class="tool-btn" data-tool="highlightImages">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2" fill="none"/>
                <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"/>
                <path d="M21 15l-5-5L5 21" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
              <span>Highlight Images</span>
            </button>
            <button class="tool-btn" data-tool="showAltTags">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="2" fill="none"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
              <span>Show Alt Tags</span>
            </button>
          </div>
        </div>
      </div>

      <!-- GEO Check Tab -->
      <div id="geo" class="tab-content">
        <div class="section">
          <h3>GEO Analysis (Generative Engine Optimization)</h3>
          <p class="geo-description">
            Optimize your content for AI-driven search experiences like ChatGPT, Perplexity, Claude, and Google's AI Overview.
          </p>
          
          <div class="geo-form">
            <div class="input-group">
              <label>Target Keywords/Topics <span style="font-weight: 400; color: #9ca3af;">(Optional - auto-detected if empty)</span>:</label>
              <input type="text" id="geo-keywords" placeholder="Leave empty for auto-detection or enter: artificial intelligence, machine learning">
            </div>
            <button id="analyze-geo" class="primary-btn full-width-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Analyze for GEO/AEO</span>
            </button>
          </div>
        </div>

        <!-- GEO Score Dashboard -->
        <div id="geo-score-section" class="section hidden">
          <h3>üéØ GEO Optimization Score</h3>
          <div class="geo-score-dashboard">
            <div class="score-circle geo-score-circle">
              <svg width="120" height="120" class="geo-score-svg">
                <circle cx="60" cy="60" r="50" stroke="#e5e7eb" stroke-width="8" fill="none"/>
                <circle id="geo-score-progress" cx="60" cy="60" r="50" stroke="url(#geoGradient)" stroke-width="8" fill="none"
                        stroke-dasharray="314" stroke-dashoffset="314" transform="rotate(-90 60 60)" stroke-linecap="round"/>
                <defs>
                  <linearGradient id="geoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#ef4444"/>
                    <stop offset="50%" style="stop-color:#f59e0b"/>
                    <stop offset="100%" style="stop-color:#10b981"/>
                  </linearGradient>
                </defs>
              </svg>
              <div class="score-content">
                <span id="geo-score" class="score-number">--</span>
                <span class="score-label">GEO Score</span>
                <div id="geo-score-status" class="score-status">Ready to analyze</div>
              </div>
            </div>
            
            <div class="geo-quick-metrics">
              <div class="metric-item">
                <div class="metric-icon">ü§ñ</div>
                <div class="metric-content">
                  <span class="metric-label">AI Readiness</span>
                  <span id="ai-readiness" class="metric-value">--</span>
                </div>
              </div>
              <div class="metric-item">
                <div class="metric-icon">üìù</div>
                <div class="metric-content">
                  <span class="metric-label">Content Quality</span>
                  <span id="content-quality" class="metric-value">--</span>
                </div>
              </div>
              <div class="metric-item">
                <div class="metric-icon">üéØ</div>
                <div class="metric-content">
                  <span class="metric-label">Answer Potential</span>
                  <span id="answer-potential" class="metric-value">--</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Current Page Info -->
          <div class="current-page-info">
            <div class="page-info-header">
              <h4>üìÑ Analyzing Current Page</h4>
            </div>
            <div class="page-info-content">
              <div class="page-url">
                <span class="info-label">URL:</span>
                <span id="current-page-url" class="info-value">--</span>
              </div>
              <div class="page-title">
                <span class="info-label">Title:</span>
                <span id="current-page-title" class="info-value">--</span>
              </div>
              <div class="detected-keywords">
                <span class="info-label">Keywords:</span>
                <span id="detected-keywords" class="info-value">--</span>
              </div>
          </div>
          </div>
        </div>

        <!-- GEO Analysis Results -->
        <div id="geo-results" class="section hidden">
          <h3>GEO Analysis Results</h3>
          
          <!-- AI Engine Compatibility -->
          <div class="geo-compatibility">
            <h4>ü§ñ AI Engine Compatibility</h4>
            <div id="ai-engine-scores" class="ai-engines-grid">
              <!-- Dynamic content -->
            </div>
              </div>

          <!-- Content Structure Analysis -->
          <div class="content-structure-analysis">
            <h4>üìã Content Structure for AI</h4>
            <div id="structure-analysis" class="structure-checks">
                <!-- Dynamic content -->
              </div>
            </div>
            
          <!-- Answer Box Potential -->
          <div class="answer-box-potential">
            <h4>üí° Answer Box Potential</h4>
            <div id="answer-analysis" class="answer-potential-grid">
                <!-- Dynamic content -->
              </div>
            </div>
          </div>

        <!-- AI-Powered GEO Insights -->
        <div id="geo-ai-insights" class="section hidden">
          <div class="section-header">
            <h3>AI-Powered GEO Insights</h3>
            <span class="ai-badge">Powered by Perplexity AI</span>
          </div>
          <div id="geo-ai-insights-content" class="ai-insights-content">
            <!-- Dynamic AI content -->
            </div>
          </div>

        <!-- GEO Recommendations -->
        <div id="geo-recommendations" class="section hidden">
          <h3>GEO Optimization Recommendations</h3>
          <div id="geo-recommendations-list" class="recommendations-list">
              <!-- Dynamic content -->
          </div>
        </div>
      </div>

      <!-- Rankings Tab -->
      <div id="rankings" class="tab-content">
        <div class="section">
          <h3>üîç Free Google Ranking Checker</h3>
          <p class="ranking-description">
            Check where your website ranks on Google for any keyword. 100% free, no API required!
          </p>
          
          <div class="ranking-form">
            <div class="input-group">
              <label>Keyword to Check:</label>
              <input type="text" id="ranking-keyword" placeholder="e.g., SEO tools, digital marketing">
            </div>
            
            <div class="input-group">
              <label>Target Country:</label>
              <select id="ranking-country" class="country-select">
                <option value="us">üá∫üá∏ United States (US)</option>
                <option value="uk">üá¨üáß United Kingdom (UK)</option>
                <option value="ca">üá®üá¶ Canada (CA)</option>
                <option value="au">üá¶üá∫ Australia (AU)</option>
                <option value="de">üá©üá™ Germany (DE)</option>
                <option value="fr">üá´üá∑ France (FR)</option>
                <option value="es">üá™üá∏ Spain (ES)</option>
                <option value="it">üáÆüáπ Italy (IT)</option>
                <option value="nl">üá≥üá± Netherlands (NL)</option>
                <option value="in">üáÆüá≥ India (IN)</option>
                <option value="pk">üáµüá∞ Pakistan (PK)</option>
              </select>
            </div>

            <div class="input-group">
              <label>Your Domain (optional):</label>
              <input type="text" id="ranking-domain" placeholder="e.g., example.com">
            </div>
            
            <button id="check-ranking-btn" class="primary-btn full-width-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>CHECK RANKING</span>
            </button>
          </div>
        </div>

        <!-- Ranking Progress -->
        <div id="ranking-progress" class="section hidden">
          <h3>üìä Scanning Google Results</h3>
          <div class="progress-container">
            <div class="progress-bar">
              <div id="ranking-progress-bar" class="progress-fill"></div>
            </div>
            <div id="ranking-status" class="progress-status">
              Scanning page 1 of 10 (results 1-10)...
            </div>
            <div class="progress-info">
              <span id="ranking-results-found">0 results scanned</span>
              <span id="ranking-time-elapsed">0s elapsed</span>
            </div>
          </div>
        </div>

        <!-- Ranking Results -->
        <div id="ranking-results" class="section hidden">
          <div class="section-header">
            <h3>üéØ Ranking Results</h3>
            <button id="open-google-search" class="copy-btn hidden">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Open in Google</span>
            </button>
          </div>

          <div id="ranking-result-card" class="ranking-result-card">
            <!-- Dynamic content -->
          </div>

          <div id="top-10-results" class="top-results-list">
            <h4>üèÜ Top 10 Results</h4>
            <div id="top-results-container">
              <!-- Dynamic content -->
            </div>
          </div>
        </div>

        <!-- Extracted Keywords -->
        <div id="extracted-keywords-section" class="section hidden">
          <div class="section-header">
            <h3>üîë Extracted Keywords & Questions</h3>
            <button id="copy-extracted-keywords" class="copy-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none"/>
                <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke="currentColor" stroke-width="2" fill="none"/>
              </svg>
              <span>Copy All</span>
            </button>
          </div>

          <div class="extracted-keywords-container">
            <div class="keyword-section">
              <div class="keyword-section-header">
              <h4>üéØ Content Keywords (2-6 words)</h4>
                <button id="toggle-keywords" class="collapse-btn" title="Collapse/Expand Keywords">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
              <div id="content-keywords" class="keyword-tags">
                <!-- Dynamic content -->
              </div>
              <div id="load-more-keywords" class="load-more-container hidden">
                <button id="load-more-keywords-btn" class="load-more-btn">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M7 13l3 3 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 3v6l3-3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>Load More Keywords</span>
                </button>
                <div class="load-more-info">
                  <span id="keywords-showing">Showing 10 of 0</span>
                </div>
              </div>
            </div>

            <div class="keyword-section">
              <div class="keyword-section-header">
              <h4>‚ùì People Also Ask Questions</h4>
                <button id="toggle-paa" class="collapse-btn" title="Collapse/Expand Questions">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
              </div>
              <div id="paa-questions" class="paa-list">
                <!-- Dynamic content -->
              </div>
              <div id="load-more-paa" class="load-more-container hidden">
                <button id="load-more-paa-btn" class="load-more-btn">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M7 13l3 3 7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 3v6l3-3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>Load More Questions</span>
                </button>
                <div class="load-more-info">
                  <span id="paa-showing">Showing 10 of 0</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Domain Inspector Tab -->
      <div id="domain" class="tab-content">
        <div class="section">
          <h3>üîç Domain Information</h3>
          <div id="domain-loading" class="domain-loading hidden">
            <div class="spinner"></div>
            <p>Fetching domain information...</p>
          </div>
          <div id="domain-error" class="domain-error hidden">
            <p>Failed to fetch domain information. Please try again.</p>
          </div>
          <div id="domain-info-container" class="domain-info-card">
            <div class="domain-age-display">
              <div class="domain-age-large" id="domain-age-display">
                <span class="age-years">-</span>
                <span class="age-months">-</span>
                <span class="age-days">-</span>
              </div>
              <div class="domain-age-label">Domain Age</div>
            </div>
            
            <div class="domain-details-grid">
              <div class="domain-detail-item">
                <span class="detail-label">Domain:</span>
                <span id="domain-name" class="detail-value">--</span>
              </div>
              <div class="domain-detail-item">
                <span class="detail-label">Registrar:</span>
                <span id="domain-registrar" class="detail-value">--</span>
              </div>
              <div class="domain-detail-item">
                <span class="detail-label">Created Date:</span>
                <span id="domain-created" class="detail-value">--</span>
              </div>
              <div class="domain-detail-item">
                <span class="detail-label">Expires Date:</span>
                <span id="domain-expires" class="detail-value">--</span>
              </div>
              <div class="domain-detail-item">
                <span class="detail-label">Updated Date:</span>
                <span id="domain-updated" class="detail-value">--</span>
              </div>
              <div class="domain-detail-item">
                <span class="detail-label">Domain Status:</span>
                <span id="domain-status" class="detail-value status-badge">--</span>
              </div>
            </div>
            
            <div class="domain-nameservers">
              <h4>Name Servers:</h4>
              <div id="domain-nameservers-list" class="nameservers-list">
                --
              </div>
            </div>
            
            <div class="domain-dns">
              <h4>DNS Details:</h4>
              <div id="domain-dns-details" class="dns-details">
                --
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-credit">
        <div class="footer-left">
          <button id="api-settings-btn" class="api-settings-btn" title="API Settings">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M12 15a3 3 0 100-6 3 3 0 000 6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
        <div class="footer-center">
          Made with <span class="heart">‚ù§Ô∏è</span> <a href="https://www.mubashirhassan.com" target="_blank" class="credit-link"> Mubashir Hassan</a>
        </div>
      </div>
    </footer>
  </div>

  <!-- History Modal -->
  <div id="history-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content history-modal">
      <div class="modal-header">
        <h2>üìä Analysis History</h2>
        <button id="close-history-modal" class="close-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="history-controls">
          <button id="clear-history-btn" class="secondary-btn">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
              <polyline points="3,6 5,6 21,6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Clear History
          </button>
          <div class="history-stats">
            <span id="history-count">0 analyses</span>
          </div>
        </div>
        <div id="history-list" class="history-list">
          <div class="history-empty">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" class="empty-icon">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
              <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <h3>No History Yet</h3>
            <p>Your analysis history will appear here after you analyze some pages.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- API Settings Modal -->
  <div id="api-settings-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content api-settings-modal">
      <div class="modal-header">
        <h2>‚öôÔ∏è API Settings</h2>
        <button id="close-api-settings-modal" class="close-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>
      <div class="modal-body api-settings-body">
        <!-- Perplexity AI API Key Section -->
        <div class="api-section">
          <div class="api-section-header">
            <h3>üîÆ Perplexity AI API Key</h3>
          </div>
          <div class="api-info-box perplexity-info">
            <p><strong>Get your API key from:</strong> <a href="https://www.perplexity.ai/settings/api" target="_blank" class="api-link">Perplexity AI Settings</a></p>
            <p class="info-note">üí° This key is stored locally in your browser and never sent to any server except Perplexity AI.</p>
          </div>
          <div class="api-input-group">
            <label for="perplexity-api-key">API Key:</label>
            <input type="password" id="perplexity-api-key" class="api-input" placeholder="pplx-‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            <div class="checkbox-group">
              <input type="checkbox" id="show-perplexity-key">
              <label for="show-perplexity-key">Show API key</label>
            </div>
          </div>
        </div>

        <!-- WhoisXML API Key Section -->
        <div class="api-section">
          <div class="api-section-header">
            <h3>üåê WhoisXML API Key</h3>
          </div>
          <div class="api-info-box whois-info">
            <p><strong>Get your FREE API key from:</strong> <a href="https://whoisxmlapi.com/registration" target="_blank" class="api-link">WhoisXML API Registration</a></p>
            <p class="info-note">üìö <strong>How to get unlimited free accounts:</strong></p>
            <ol class="api-guide">
              <li>Go to <a href="https://temp-mail.org" target="_blank" class="api-link">temp-mail.org</a> to get a temporary email</li>
              <li>Use that email to register on <a href="https://whoisxmlapi.com/registration" target="_blank" class="api-link">WhoisXML API</a></li>
              <li>Verify the email and get 500 free credits per account</li>
              <li>When credits run out, create a new account with a new temp email</li>
              <li>Copy your API key and paste it below</li>
            </ol>
            <p class="info-note">üí° Each free account gets 500 credits. Domain lookups cost 1 credit each.</p>
            <p class="info-note">üîí This key is stored locally in your browser and never sent to any server except WhoisXML API.</p>
          </div>
          <div class="api-input-group">
            <label for="whoisxml-api-key">API Key:</label>
            <input type="password" id="whoisxml-api-key" class="api-input" placeholder="at_‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            <div class="checkbox-group">
              <input type="checkbox" id="show-whoisxml-key">
              <label for="show-whoisxml-key">Show API key</label>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Buttons outside scrollable area -->
      <div class="api-actions">
        <button id="clear-api-keys-btn" class="secondary-btn">Clear All Keys</button>
        <button id="save-api-keys-btn" class="primary-btn">Save Settings</button>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
  <script src="ranking.js"></script>
</body>
</html>
